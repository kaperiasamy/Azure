## **Explore Models – Summary**

**Purpose of the Example**  
- Demonstrates how a controller action can create and pass a **View Model** to a View.  
- Uses the `Error` action in `HomeController` as an example.  

**Key Concepts**  
- **View Model Creation**:  
  - `ErrorViewModel` is a C# class in the **Models** folder.  
  - Contains properties like `RequestId` (string) and `ShowRequestId` (bool).  
  - Designed specifically for the Error page (good naming convention).  
- **Controller Role**:  
  - Instantiates and populates the View Model with relevant data.  
  - Passes the View Model to the View via `return View(model)`.  
- **View Location**:  
  - Error view is in the **Shared** folder (used for global/shared pages).  
  - MVC searches the controller’s folder first, then Shared.  
- **Strongly Typed Views**:  
  - View declares `@model ErrorViewModel` at the top.  
  - Ensures the View only accepts that specific type.  
  - Passing a different type will cause a runtime error.  
- **Dynamic Rendering with Razor**:  
  - Razor syntax allows embedding C# in HTML.  
  - Example: `if (Model.ShowRequestId) { ... }` to conditionally render HTML.  
  - Accesses model properties directly in the View.  
- **General Procedure for Using Models**:  
  1. Gather/prepare data in the controller (queries, calculations, etc.).  
  2. Store data in a Model or View Model.  
  3. Pass the object to the View.  
  4. Bind the View to the model type and render dynamically.  

---

# **Models in MVC – One-Page Cheat Sheet (Explore Models)**

## **1. Definition**
- **Model**: C# class with properties representing data.
- **View Model**: Specialized model tailored for a specific View.

---

## **2. Example: ErrorViewModel**
```csharp
public class ErrorViewModel
{
    public string RequestId { get; set; }
    public bool ShowRequestId { get; set; }
}
```
- Located in **Models** folder.
- Holds only the data needed for the Error page.

---

## **3. Controller Usage**
```csharp
public IActionResult Error()
{
    var model = new ErrorViewModel
    {
        RequestId = Activity.Current?.Id ?? HttpContext.TraceIdentifier
    };
    return View(model);
}
```
- Creates and populates the View Model.
- Passes it to the View.

---

## **4. View Binding**
```csharp
@model ErrorViewModel

@if (Model.ShowRequestId)
{
    <p>Request ID: @Model.RequestId</p>
}
```
- Strongly typed to `ErrorViewModel`.
- Uses Razor syntax for conditional rendering and data display.

---

## **5. View Location**
- MVC search order:
  1. Controller’s Views folder.
  2. **Shared** folder (for global pages like Error).

---

## **6. Workflow**
1. **Prepare Data** – Controller gathers/calculates data.
2. **Create Model** – Store data in a Model/View Model.
3. **Pass to View** – `return View(model)`.
4. **Bind View** – `@model` declaration.
5. **Render Dynamically** – Use Razor to display data conditionally.

---

**Pro Tip for Interviews**:  
> "In MVC, the controller prepares a model or view model with exactly the data the view needs, passes it to a strongly typed view, and Razor syntax in the view makes it dynamic."

---
Here’s a **clear, interview-ready ASCII diagram** showing the **Controller → Model → View** flow for the `ErrorViewModel` example.  

---

```
[ Browser Request: /Home/Error ]
                |
                v
+--------------------------------+
|        HomeController          |
|  Action: Error()               |
|  - Create ErrorViewModel       |
|    {                           |
|      RequestId = ...           |
|      ShowRequestId = true/false|
|    }                           |
|  - return View(model)          |
+--------------------------------+
                |
                v
+--------------------------------+
|        ErrorViewModel          |
|  (in Models folder)            |
|  - string RequestId            |
|  - bool ShowRequestId          |
+--------------------------------+
                |
                v
+--------------------------------+
|   Error.cshtml (Shared folder) |
|  @model ErrorViewModel         |
|  - Razor if(Model.ShowRequestId)|
|    display RequestId            |
+--------------------------------+
                |
                v
[ Browser Receives Rendered HTML ]
```

---

### **15-Second Interview Explanation**
> "When `/Home/Error` is requested, the `HomeController` creates an `ErrorViewModel` with the RequestId and ShowRequestId values, then passes it to the strongly typed `Error.cshtml` view in the Shared folder. The view uses Razor to conditionally display the RequestId, and the final HTML is sent back to the browser."

---
